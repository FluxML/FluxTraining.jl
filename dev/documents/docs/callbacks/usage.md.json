{"attributes":{"backlinks":[{"tag":"document","title":"toc","docid":"documents/toc.md"},{"tag":"document","title":"Getting started","docid":"documents/docs/overview.md"}],"path":"/home/runner/.julia/packages/FluxTraining/cI3Oq/docs/callbacks/usage.md","title":"How to use callbacks"},"tag":"document","children":[{"attributes":{"result":"false","output":"false","class":"cellcontainer","cell":"main","lang":"julia","style":"display:none"},"tag":"div","children":[{"attributes":{"result":"false","output":"false","class":"codecell","cell":"main","lang":"julia","style":"display:none"},"tag":"codeblock","children":[{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_using","children":[{"attributes":{},"tag":"CST_span","children":[{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"using"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":" "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_span","children":[{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining"},"tag":"reference","children":[{"mimes":{"text/plain":"FluxTraining"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":"\n"}}]}]}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_using","children":[{"attributes":{},"tag":"CST_span","children":[{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"using"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":" "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining"},"tag":"reference","children":[{"mimes":{"text/plain":"FluxTraining"}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":": "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.Callback"},"tag":"reference","children":[{"mimes":{"text/plain":"Callback"}}]}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.Read"},"tag":"reference","children":[{"mimes":{"text/plain":"Read"}}]}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.Write"},"tag":"reference","children":[{"mimes":{"text/plain":"Write"}}]}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_span","children":[{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.stateaccess"},"tag":"reference","children":[{"mimes":{"text/plain":"stateaccess"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":"\n"}}]}]}]}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_tuple","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"model"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"data"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"lossfn"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_span","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"optimizer"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":" "}}]}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"= "}}]},{"attributes":{},"tag":"CST_tuple","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"nothing"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_tuple","children":[{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"nothing"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"nothing"}}]}]}]}]}]},{"mimes":{"text/plain":""}},{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"h1","children":[{"mimes":{"text/plain":"How to use callbacks"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"Callbacks allow injecting functionality at many points during the training loop"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"To use them, simply pass each callback to "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Learner"}}]},{"mimes":{"text/plain":":"}}]},{"attributes":{"output":"false","class":"cellcontainer","cell":"main","lang":"julia"},"tag":"div","children":[{"attributes":{"output":"false","class":"codecell","cell":"main","lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_span","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"learner"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":" "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"= "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.Learner"},"tag":"reference","children":[{"mimes":{"text/plain":"Learner"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"(\n    "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"model"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"data"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"optimizer"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"lossfn"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":",  # required arguments\n    "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.ToGPU"},"tag":"reference","children":[{"mimes":{"text/plain":"ToGPU"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.Metrics"},"tag":"reference","children":[{"mimes":{"text/plain":"Metrics"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.accuracy"},"tag":"reference","children":[{"mimes":{"text/plain":"accuracy"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")      # pass any number of callbacks as additional arguments"}}]}]}]}]}]},{"mimes":{"text/plain":""}},{"attributes":{"class":"coderesult"},"tag":"pre","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Learner()"}}]}]}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"Some useful callbacks are added by default:"}}]},{"attributes":{"output":"false","class":"cellcontainer","cell":"main","lang":"julia"},"tag":"div","children":[{"attributes":{"output":"false","class":"codecell","cell":"main","lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"learner"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"callbacks"}}]}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"cbs"}}]}]}]}]}]},{"mimes":{"text/plain":""}},{"attributes":{"class":"coderesult"},"tag":"pre","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"6-element Vector{FluxTraining.SafeCallback}:\n ToDevice(Flux.gpu, Flux.gpu)\n Metrics(Loss(), Metric(Accuracy))\n ProgressPrinter()\n MetricsPrinter()\n StopOnNaNLoss()\n Recorder()"}}]}]}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"See "}},{"attributes":{"reftype":"document","href":"./reference.md","title":"","document_id":"documents/docs/callbacks/reference.md"},"tag":"reference","children":[{"mimes":{"text/plain":"callback reference"}}]},{"mimes":{"text/plain":" for a list of all callbacks included in "}},{"attributes":{},"tag":"em","children":[{"mimes":{"text/plain":"FluxTraining"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl"}}]},{"mimes":{"text/plain":" and their documentation"}},{"mimes":{"text/plain":"."}}]},{"attributes":{"class":"info"},"tag":"admonition","children":[{"attributes":{},"tag":"admonitiontitle","children":[{"mimes":{"text/plain":"Ordering"}}]},{"attributes":{},"tag":"admonitionbody","children":[{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"The order the callbacks are passed in doesn"}},{"mimes":{"text/plain":"’"}},{"mimes":{"text/plain":"t matter"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" "}},{"attributes":{},"tag":"em","children":[{"mimes":{"text/plain":"FluxTraining"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl"}}]},{"mimes":{"text/plain":" creates a dependency graph that makes sure the callbacks are run in the correct order"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" Read "}},{"attributes":{"reftype":"document","href":"./custom.md","title":"","document_id":"documents/docs/callbacks/custom.md"},"tag":"reference","children":[{"mimes":{"text/plain":"custom callbacks"}}]},{"mimes":{"text/plain":" to find out how to create callbacks yourself"}},{"mimes":{"text/plain":"."}}]}]}]}]}