{"attributes":{"backlinks":[{"tag":"document","title":"Data iterators","docid":"documents/docs/background/dataiterator.md"},{"tag":"document","title":"Getting started","docid":"documents/docs/getting_started.md"}],"path":"/home/runner/.julia/packages/FluxTraining/LFydD/docs/background/lossfunction.md","title":"Loss functions"},"tag":"document","children":[{"attributes":{},"tag":"h1","children":[{"mimes":{"text/plain":"Loss functions"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"A loss function compares model outputs to true targets, resulting in a loss"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" For a loss function to be compatible with the standard supervised training loop, the following properties must hold"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"Firstly, the loss function should accept the model outputs and targets, and return a single scalar value"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" Given a "}},{"attributes":{"reftype":"document","href":"/documents/docs/background/dataiterator.md","title":"","document_id":"documents/docs/background/dataiterator.md"},"tag":"reference","children":[{"mimes":{"text/plain":"data iterator"}}]},{"mimes":{"text/plain":" "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"dataiter"}}]},{"mimes":{"text/plain":" and a "}},{"attributes":{"reftype":"document","href":"/documents/docs/background/model.md","title":"","document_id":"documents/docs/background/model.md"},"tag":"reference","children":[{"mimes":{"text/plain":"model"}}]},{"mimes":{"text/plain":" "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"model"}}]},{"mimes":{"text/plain":":"}}]},{"attributes":{"lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_tuple","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"xs"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_span","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"ys"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":" "}}]}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"= "}}]},{"attributes":{},"tag":"CST_span","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"dataiter"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":"\n"}}]}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_span","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"ŷs"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":" "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"= "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"model"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"xs"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")\n"}}]}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"lossfn"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"ŷs"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"ys"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":") "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"isa "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"Number"}}]}]}]}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"The loss function must also be differentiable, so that gradients can be calculated during training"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" See "}},{"attributes":{"reftype":"document","href":"/documents/docs/background/model.md","title":"","document_id":"documents/docs/background/model.md"},"tag":"reference","children":[{"mimes":{"text/plain":"models"}}]},{"mimes":{"text/plain":" for more on how to check this"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"h2","children":[{"mimes":{"text/plain":"Creating loss functions"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"Flux"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl comes with a lot of commonly used loss functions built"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"in in its submodule "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Flux.Losses"}}]},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" See "}},{"attributes":{"href":"https://fluxml.ai/Flux.jl/stable/models/losses/","title":""},"tag":"a","children":[{"mimes":{"text/plain":"Flux"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl loss functions"}}]},{"mimes":{"text/plain":" for a complete reference"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"You can also write your own loss functions"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" If you are using non"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"mutating array operations, there is a good chance that it will be differentiable and also be compatible with GPU arrays from "}},{"attributes":{"href":"https://github.com/JuliaGPU/CUDA.jl","title":""},"tag":"a","children":[{"mimes":{"text/plain":"CUDA"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl"}}]},{"mimes":{"text/plain":"."}}]}]}