{"attributes":{"kind":"struct","backlinks":[{"tag":"document","title":"Tips & tricks","docid":"documents/docs/callbacks/tipstricks.md"},{"tag":"sourcefile","title":"FluxTraining/src/learner.jl","docid":"sourcefiles/FluxTraining/src/learner.jl"},{"tag":"document","title":"Hyperparameter scheduling","docid":"documents/docs/tutorials/hyperparameters.md"},{"tag":"document","title":"How to use callbacks","docid":"documents/docs/callbacks/usage.md"},{"tag":"document","title":"Getting started","docid":"documents/docs/getting_started.md"},{"tag":"documentation","title":"testlearner","docid":"references/FluxTraining.testlearner"},{"tag":"document","title":"Custom callbacks","docid":"documents/docs/callbacks/custom.md"},{"tag":"document","title":"Training loop","docid":"documents/docs/tutorials/training.md"},{"tag":"documentation","title":"LogMetrics","docid":"references/FluxTraining.LogMetrics"},{"tag":"document","title":"Training an image classifier","docid":"documents/docs/tutorials/mnist.ipynb"},{"tag":"documentation","title":"EarlyStopping","docid":"references/FluxTraining.EarlyStopping"},{"tag":"sourcefile","title":"FluxTraining/src/testutils.jl","docid":"sourcefiles/FluxTraining/src/testutils.jl"},{"tag":"document","title":"Callback reference","docid":"documents/docs/callbacks/reference.md"},{"tag":"sourcefile","title":"FluxTraining/src/FluxTraining.jl","docid":"sourcefiles/FluxTraining/src/FluxTraining.jl"},{"tag":"documentation","title":"LogHyperParams","docid":"references/FluxTraining.LogHyperParams"},{"tag":"document","title":"Features","docid":"documents/docs/features.md"}],"methods":[{"line":15,"file":"/home/runner/.julia/packages/FluxTraining/FErTB/src/learner.jl","method_id":"FluxTraining.Learner_1","symbol_id":"FluxTraining.Learner","signature":"Learner(model, data::FluxTraining.PropDict, optimizer, lossfn, params, step::FluxTraining.PropDict, callbacks::FluxTraining.Callbacks, cbstate::FluxTraining.PropDict)"},{"line":67,"file":"/home/runner/.julia/packages/FluxTraining/FErTB/src/learner.jl","method_id":"FluxTraining.Learner_2","symbol_id":"FluxTraining.Learner","signature":"Learner(model, data, optimizer, lossfn, callbacks::FluxTraining.SafeCallback...; usedefaultcallbacks, cbrunner)"},{"line":15,"file":"/home/runner/.julia/packages/FluxTraining/FErTB/src/learner.jl","method_id":"FluxTraining.Learner_3","symbol_id":"FluxTraining.Learner","signature":"Learner(model, data, optimizer, lossfn, params, step, callbacks, cbstate)"}],"name":"Learner","title":"Learner","symbol_id":"FluxTraining.Learner","public":true,"module_id":"FluxTraining"},"tag":"documentation","children":[{"attributes":{},"tag":"body","children":[{"attributes":{"lang":""},"tag":"codeblock","children":[{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_call","children":[{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.Learner"},"tag":"reference","children":[{"mimes":{"text/plain":"Learner"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"model"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"data"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"optimizer"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"lossfn"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_vcat","children":[{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"["}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"callbacks"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"...; "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"kwargs"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"..."}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"]"}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]}]}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"Holds and coordinates all state of the training"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"model"}}]},{"mimes":{"text/plain":" is trained by"}},{"attributes":{},"tag":"br","children":[]},{"mimes":{"text/plain":"optimizing "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"lossfn"}}]},{"mimes":{"text/plain":" with "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"optimizer"}}]},{"mimes":{"text/plain":" on "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"data"}}]},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"h2","children":[{"mimes":{"text/plain":"Arguments"}}]},{"attributes":{},"tag":"ul","children":[{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"model"}}]},{"mimes":{"text/plain":": A Flux"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl model or a "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"NamedTuple"}}]},{"mimes":{"text/plain":" of models"}},{"mimes":{"text/plain":"."}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"data"}}]},{"mimes":{"text/plain":": Data iterators"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" A 2"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"tuple will be treated as "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"(trainingdataiter, validdataiter)"}}]},{"mimes":{"text/plain":"."}},{"attributes":{},"tag":"br","children":[]},{"mimes":{"text/plain":"You can also pass in an empty tuple "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"()"}}]},{"mimes":{"text/plain":" and use the "}},{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.epoch!"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"epoch!"}}]}]},{"mimes":{"text/plain":" method with a"}},{"attributes":{},"tag":"br","children":[]},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"dataiter"}}]},{"mimes":{"text/plain":" as third argument"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"A data iterator is an iterable over batches"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" For regular supervised training,"}},{"attributes":{},"tag":"br","children":[]},{"mimes":{"text/plain":"each batch should be a tuple "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"(xs, ys)"}}]},{"mimes":{"text/plain":"."}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"lossfn"}}]},{"mimes":{"text/plain":": Function with signature "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"lossfn(model(x), y) -> Number"}}]}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"optimizer"}}]}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"callbacks..."}}]},{"mimes":{"text/plain":": Any other unnamed arguments are callbacks"}}]}]}]},{"attributes":{},"tag":"h2","children":[{"mimes":{"text/plain":"Keyword arguments"}}]},{"attributes":{},"tag":"ul","children":[{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"usedefaultcallbacks = true"}}]},{"mimes":{"text/plain":": Whether to add some basic callbacks"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" Included"}},{"attributes":{},"tag":"br","children":[]},{"mimes":{"text/plain":"are "}},{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.Metrics"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Metrics"}}]}]},{"mimes":{"text/plain":", "}},{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.Recorder"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Recorder"}}]}]},{"mimes":{"text/plain":", "}},{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.ProgressPrinter"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"ProgressPrinter"}}]}]},{"mimes":{"text/plain":","}},{"attributes":{},"tag":"br","children":[]},{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.StopOnNaNLoss"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"StopOnNaNLoss"}}]}]},{"mimes":{"text/plain":", and "}},{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.MetricsPrinter"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"MetricsPrinter"}}]}]},{"mimes":{"text/plain":"."}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"cbrunner = LinearRunner()"}}]},{"mimes":{"text/plain":": Callback runner to use"}},{"mimes":{"text/plain":"."}}]}]}]},{"attributes":{},"tag":"h2","children":[{"mimes":{"text/plain":"Fields"}}]},{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"em","children":[{"mimes":{"text/plain":"(Use this as a reference when implementing callbacks)"}}]}]},{"attributes":{},"tag":"ul","children":[{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"model"}}]},{"mimes":{"text/plain":", "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"optimizer"}}]},{"mimes":{"text/plain":", and "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"lossfn"}}]},{"mimes":{"text/plain":" are stored as passed in"}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"data"}}]},{"mimes":{"text/plain":" is a "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"PropDict"}}]},{"mimes":{"text/plain":" of data iterators, usually "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":":training"}}]},{"mimes":{"text/plain":" and "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":":validation"}}]},{"mimes":{"text/plain":"."}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"params"}}]},{"mimes":{"text/plain":": An instance of "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"model"}}]},{"mimes":{"text/plain":"’"}},{"mimes":{"text/plain":"s parameters of type "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Flux.Params"}}]},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" If "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"model"}}]},{"mimes":{"text/plain":" is"}},{"attributes":{},"tag":"br","children":[]},{"mimes":{"text/plain":"a "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"NamedTuple"}}]},{"mimes":{"text/plain":", then "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"params"}}]},{"mimes":{"text/plain":" is a "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"NamedTuple"}}]},{"mimes":{"text/plain":" as well"}},{"mimes":{"text/plain":"."}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"step::"}}]},{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.PropDict"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"PropDict"}}]}]},{"mimes":{"text/plain":": State of the last step"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" Contents depend on the last run"}},{"attributes":{},"tag":"br","children":[]},{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.Phases.Phase"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Phase"}}]}]},{"mimes":{"text/plain":"."}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"cbstate::"}}]},{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.PropDict"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"PropDict"}}]}]},{"mimes":{"text/plain":": Special state container that callbacks can"}},{"attributes":{},"tag":"br","children":[]},{"mimes":{"text/plain":"save state to for other callbacks"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" Its keys depend on what callbacks"}},{"attributes":{},"tag":"br","children":[]},{"mimes":{"text/plain":"are being used"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" See the "}},{"attributes":{"reftype":"document","href":"../docs/callbacks/custom.md","title":"","document_id":"docs/callbacks/custom.md"},"tag":"reference","children":[{"mimes":{"text/plain":"custom callbacks guide"}}]},{"attributes":{},"tag":"br","children":[]},{"mimes":{"text/plain":"for more info"}},{"mimes":{"text/plain":"."}}]}]}]}]}]}