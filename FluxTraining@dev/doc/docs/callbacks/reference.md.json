{"attributes":{"backlinks":[{"tag":"document","title":"Getting started","docid":"FluxTraining@dev/doc/docs/overview.md"},{"tag":"document","title":"Training loop","docid":"FluxTraining@dev/doc/docs/tutorials/training.md"},{"tag":"document","title":"Training an image classifier","docid":"FluxTraining@dev/doc/docs/tutorials/mnist.ipynb"},{"tag":"document","title":"News","docid":"FluxTraining@dev/doc/CHANGELOG.md"},{"tag":"document","title":"How to use callbacks","docid":"FluxTraining@dev/doc/docs/callbacks/usage.md"}],"path":"/home/runner/.julia/packages/FluxTraining/HjEA2/docs/callbacks/reference.md","title":"Callback reference"},"tag":"document","children":[{"attributes":{},"tag":"md","children":[{"attributes":{},"tag":"h1","children":["Callback reference"],"type":"node"},{"attributes":{},"tag":"h2","children":["Included callbacks"],"type":"node"},{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"em","children":["FluxTraining.jl"],"type":"node"}," comes with many callbacks included. Some of them are added to ",{"attributes":{},"tag":"code","children":["Learner"],"type":"node"}," by default, here marked with a *."],"type":"node"},{"attributes":{"align":["left","left"]},"tag":"table","children":[{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"th","children":["",{"attributes":{},"tag":"strong","children":["Callback"],"type":"node"},""],"type":"node"},{"attributes":{},"tag":"th","children":["",{"attributes":{},"tag":"strong","children":["Description"],"type":"node"},""],"type":"node"}],"type":"node"},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":["",{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.Metrics"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["Metrics"],"type":"node"}],"type":"node"},"*"],"type":"node"},{"attributes":{},"tag":"td","children":["Tracks loss and additional metrics on a per-step and per-epoch base"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":["",{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.Recorder"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["Recorder"],"type":"node"}],"type":"node"},"*"],"type":"node"},{"attributes":{},"tag":"td","children":["Records training stats like number of steps and epochs"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":["",{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.ProgressPrinter"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["ProgressPrinter"],"type":"node"}],"type":"node"},"*"],"type":"node"},{"attributes":{},"tag":"td","children":["Prints a progress bar for the current epoch during training"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":["",{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.MetricsPrinter"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["MetricsPrinter"],"type":"node"}],"type":"node"},"*"],"type":"node"},{"attributes":{},"tag":"td","children":["Prints out metrics after every epoch"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":["",{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.StopOnNaNLoss"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["StopOnNaNLoss"],"type":"node"}],"type":"node"},"*"],"type":"node"},{"attributes":{},"tag":"td","children":["Stops training early if a step loss is ",{"attributes":{},"tag":"code","children":["NaN"],"type":"node"},""],"type":"node"}],"type":"node"},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":["",{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.SanityCheck"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["SanityCheck"],"type":"node"}],"type":"node"},""],"type":"node"},{"attributes":{},"tag":"td","children":["Performs sanity checks on data, model and loss before training"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":["",{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.ToGPU"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["ToGPU"],"type":"node"}],"type":"node"},""],"type":"node"},{"attributes":{},"tag":"td","children":["Trains using a CUDA GPU if available"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":["",{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.Checkpointer"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["Checkpointer"],"type":"node"}],"type":"node"},""],"type":"node"},{"attributes":{},"tag":"td","children":["Saves the model after every epoch"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":["",{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.EarlyStopping"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["EarlyStopping"],"type":"node"}],"type":"node"},""],"type":"node"},{"attributes":{},"tag":"td","children":["Stops training early when a criterion is met"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":["",{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.Scheduler"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["Scheduler"],"type":"node"}],"type":"node"},""],"type":"node"},{"attributes":{},"tag":"td","children":["Schedules hyperparameters"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":["",{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.LogMetrics"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["LogMetrics"],"type":"node"}],"type":"node"},""],"type":"node"},{"attributes":{},"tag":"td","children":["Logs metrics to a logging backend"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":["",{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.LogHyperParams"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["LogHyperParams"],"type":"node"}],"type":"node"},""],"type":"node"},{"attributes":{},"tag":"td","children":["Logs hyperparameters to a logging backend"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":["",{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.LogVisualization"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["LogVisualization"],"type":"node"}],"type":"node"},""],"type":"node"},{"attributes":{},"tag":"td","children":["Logs visualization to a logging backend"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":["",{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.LogHistograms"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["LogHistograms"],"type":"node"}],"type":"node"},""],"type":"node"},{"attributes":{},"tag":"td","children":["Logs model weight histograms to a logging backend"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"p","children":["To construct a learner without default callbacks, pass ",{"attributes":{},"tag":"code","children":["usedefaultcallbacks=false"],"type":"node"}," when constructing it.",{"attributes":{},"tag":"br","children":[],"type":"node"},"For working with callbacks on an existing ",{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.Learner"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["Learner"],"type":"node"}],"type":"node"},", see:"],"type":"node"},{"attributes":{},"tag":"ul","children":[{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.setcallbacks!"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["setcallbacks!"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.addcallback!"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["addcallback!"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.getcallback"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["getcallback"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.replacecallback!"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["replacecallback!"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.removecallback!"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["removecallback!"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"p","children":["There are also some utilities for creating callbacks:"],"type":"node"},{"attributes":{},"tag":"ul","children":[{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.CustomCallback"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["CustomCallback"],"type":"node"}],"type":"node"}," to quickly hook a function into an event"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.throttle"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["throttle"],"type":"node"}],"type":"node"}," to run a callback only after every ",{"attributes":{},"tag":"code","children":["n"],"type":"node"}," events or every ",{"attributes":{},"tag":"code","children":["t"],"type":"node"}," seconds"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"h2","children":["Extension API"],"type":"node"},{"attributes":{},"tag":"p","children":["The following types and functions can be used to create custom callbacks. Read the ",{"attributes":{"href":"./custom.md","title":"","document_id":"FluxTraining@dev/doc/docs/callbacks/custom.md"},"tag":"reference","children":["custom callbacks guide"],"type":"node"}," for more context."],"type":"node"},{"attributes":{},"tag":"ul","children":[{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.Callback"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["Callback"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.stateaccess"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["stateaccess"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.runafter"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["runafter"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@dev/ref/FluxTraining.resolveconflict"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["resolveconflict"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}