import{S as C,i as L,s as z,k as D,l as E,$ as G,d as f,m as j,g as _,o as h,p as J,q as g,r as K,aw as N,n as P,e as v,w as T,c as b,a as p,x as V,b as k,J as w,y as q,B as A,t as H,h as S,j as R,K as x}from"../../../chunks/vendor-ec47df3e.js";import{f as U,g as F,H as M,e as O,T as Q}from"../../../chunks/documentloader-d05bdfe6.js";import{b as B}from"../../../chunks/paths-4b3c6e7e.js";const{document:I}=N;function W(i){let n,r,e,t,s,l,u,a;return e=new M({props:{documentId:i[1],loader:i[2],config:i[3]}}),u=new O({props:{document:i[4],views:Q}}),{c(){n=v("div"),r=v("div"),T(e.$$.fragment),t=D(),s=v("div"),l=v("div"),T(u.$$.fragment),this.h()},l(c){n=b(c,"DIV",{class:!0});var o=p(n);r=b(o,"DIV",{class:!0});var d=p(r);V(e.$$.fragment,d),d.forEach(f),t=j(o),s=b(o,"DIV",{class:!0});var m=p(s);l=b(m,"DIV",{class:!0});var y=p(l);V(u.$$.fragment,y),y.forEach(f),m.forEach(f),o.forEach(f),this.h()},h(){k(r,"class","gutter"),k(l,"class","document "+i[4].tag),k(s,"class","content h-max p-4 sm:w-full md:max-w-2xl"),k(n,"class","flex lg:flex-row flex-col lg:sticky lg:h-full")},m(c,o){_(c,n,o),w(n,r),q(e,r,null),w(n,t),w(n,s),w(s,l),q(u,l,null),a=!0},p(c,o){const d={};o&2&&(d.documentId=c[1]),o&4&&(d.loader=c[2]),o&8&&(d.config=c[3]),e.$set(d)},i(c){a||(g(e.$$.fragment,c),g(u.$$.fragment,c),a=!0)},o(c){h(e.$$.fragment,c),h(u.$$.fragment,c),a=!1},d(c){c&&f(n),A(e),A(u)}}}function X(i){let n,r;return{c(){n=H("An error occured :( : "),r=H(i[0])},l(e){n=S(e,"An error occured :( : "),r=S(e,i[0])},m(e,t){_(e,n,t),_(e,r,t)},p(e,t){t&1&&R(r,e[0])},i:x,o:x,d(e){e&&f(n),e&&f(r)}}}function Y(i){let n,r,e,t,s,l;I.title=n=i[3].title;const u=[X,W],a=[];function c(o,d){return o[0]?0:1}return e=c(i),t=a[e]=u[e](i),{c(){r=D(),t.c(),s=E()},l(o){G('[data-svelte="svelte-fbczdu"]',I.head).forEach(f),r=j(o),t.l(o),s=E()},m(o,d){_(o,r,d),a[e].m(o,d),_(o,s,d),l=!0},p(o,[d]){(!l||d&8)&&n!==(n=o[3].title)&&(I.title=n);let m=e;e=c(o),e===m?a[e].p(o,d):(P(),h(a[m],1,1,()=>{a[m]=null}),J(),t=a[e],t?t.p(o,d):(t=a[e]=u[e](o),t.c()),g(t,1),t.m(s.parentNode,s))},i(o){l||(g(t),l=!0)},o(o){h(t),l=!1},d(o){o&&f(r),a[e].d(o),o&&f(s)}}}const oe=!0,ne=!0,re=!1;async function ae({params:i,fetch:n}){let{version:r,documentId:e}=i;const t=new U(B,r);t.fetch=n,t.attributes=await t.load("attributes");const s=await t.load("config");let l={documentId:e,loader:t,config:s};return e=e||s.defaultDocument,console.log("Rendering:"),console.log({base:B,documentId:e,version:r}),await t.load(e).then(u=>(l.error=!1,{props:l})).catch(u=>(l.error=u,{props:l}))}function Z(i,n,r){let{error:e}=n,{documentId:t}=n,{loader:s}=n,{config:l}=n;const u=s.cache[t];return K(F,s),i.$$set=a=>{"error"in a&&r(0,e=a.error),"documentId"in a&&r(1,t=a.documentId),"loader"in a&&r(2,s=a.loader),"config"in a&&r(3,l=a.config)},[e,t,s,l,u]}class se extends C{constructor(n){super();L(this,n,Z,Y,z,{error:0,documentId:1,loader:2,config:3})}}export{se as default,ne as hydrate,ae as load,oe as prerender,re as router};
